<!--
   Copyright (C) 2015 - 2018 Juergen Zimmermann, Hochschule Karlsruhe

   This program is free software: you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation, either version 3 of the License, or
   (at your option) any later version.

   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.

   You should have received a copy of the GNU General Public License
   along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<div class="card">
    <div class="card-header bg-primary">
        <span class="ml-1 font-weight-bold">Neuer Kunde</span>
    </div>

    <div class="card-body">
        <!-- Template-Syntax:
                [formGroup]="form"  fuer Input = Property Binding
                                    d.h. formGroup fuer Attr. form
                (submit)="save()"  fuer Output = Event Binding
                                   d.h. Ereignis submit an save() anbinden
                                   oder on-submit="save"
                Definition von Attributnamen gemaess HTML: Attribute names
                must consist of one or more characters other than the
                space characters, U+0000 NULL, """, "'", ">", "/", "=",
                the control characters, and any characters that are not
                defined by Unicode.
                https://github.com/angular/angular/issues/6786
        -->
        <!-- dynamisches Formular durch formGroup -->
        <form [formGroup]="form" role="form">
            <div class="form-group row has-warning" *ngIf="showWarning">
                <div class="form-control-feedback">
                    <span class="alert alert-warning">
                        <i class="fas fa-2x fa-exclamation-triangle"></i>
                        <strong class="text-help ml-1">
                            Wenn Sie diese Seite verlassen, verlieren Sie Ihre eingegebenen Daten.
                        </strong>
                    </span>
                </div>
            </div>


            <div class="form-group row">
                <label for="nachnameInput" class="col col-2 form-control-label">
                    Nachname *
                </label>
                <div class="col col-10">
                    <input id="nachnameInput" placeholder="Nachname" class="form-control"
                        autofocus formControlName="nachname"
                        [class.border-danger]="nachname.invalid && nachname.touched">
                    <div *ngIf="nachname.invalid && nachname.touched" class="alert alert-danger">
                        <div *ngIf="nachname.errors !== null && nachname.errors.required">
                            <i class="fas fa-exclamation-circle"></i>
                            <span class="ml-1">
                                Ein Nachname muss eingegeben werden.
                            </span>
                        </div>
                        <div *ngIf="nachname.errors !== null && nachname.errors.minlength">
                            <i class="fas fa-exclamation-circle"></i>
                            <span class="ml-1">
                                Ein Nachname muss mindestens 2 Zeichen lang sein.
                            </span>
                        </div>
                        <div *ngIf="nachname.errors !== null && nachname.errors.pattern">
                            <i class="fas fa-exclamation-circle"></i>
                            <span class="ml-1">
                                Ein Nachname muss mit einem Buchstaben beginnen.
                            </span>
                        </div>
                    </div>
                </div>
            </div>


            <div class="form-group row">
                <label for="plzInput" class="col col-2 form-control-label">
                    Postleitzahl *
                </label>
                <div class="col col-2">
                    <input id="plzInput" placeholder="Plz" class="form-control"
                        autofocus formControlName="plz"
                        [class.border-danger]="plz.invalid && plz.touched">
                    <div *ngIf="plz.invalid && plz.touched" class="alert alert-danger">
                        <div *ngIf="plz.errors !== null && plz.errors.required">
                            <i class="fas fa-exclamation-circle"></i>
                            <span class="ml-1">
                                Eine Postleitzahl muss eingegeben werden.
                            </span>
                        </div>
                        <div *ngIf="plz.errors !== null && plz.errors.minlength">
                            <i class="fas fa-exclamation-circle"></i>
                            <span class="ml-1">
                                Eine Postleizahl muss 5 Zeichen lang sein.
                            </span>
                        </div>
                        <div *ngIf="plz.errors !== null && plz.errors.pattern">
                            <i class="fas fa-exclamation-circle"></i>
                            <span class="ml-1">
                                Eine Postleitzahl muss mit einer Ziffer beginnen.
                            </span>
                        </div>
                    </div>
                </div>
                    <label for="ortInput" class="col col-1 form-control-label">
                        Ort *
                    </label>
                    <div class="col col-">
                        <input id="ortInput" placeholder="Ort" class="form-control"
                            autofocus formControlName="ort"
                            [class.border-danger]="ort.invalid && ort.touched">
                        <div *ngIf="ort.invalid && ort.touched" class="alert alert-danger">
                            <div *ngIf="ort.errors !== null && ort.errors.required">
                                <i class="fas fa-exclamation-circle"></i>
                                <span class="ml-1">
                                    Ein Ort muss eingegeben werden.
                                </span>
                            </div>
                            <div *ngIf="ort.errors !== null && ort.errors.minlength">
                                <i class="fas fa-exclamation-circle"></i>
                                <span class="ml-1">
                                    Ein Ort muss mindestens 2 Zeichen lang sein.
                                </span>
                            </div>
                            <div *ngIf="ort.errors !== null && ort.errors.pattern">
                                <i class="fas fa-exclamation-circle"></i>
                                <span class="ml-1">
                                    Eine Ort muss mit einem Buchstaben beginnen.
                                </span>
                            </div>
                        </div>
                    </div>
            </div>

            <div class="form-group row">
                <label for="emailInput" class="col col-2 form-control-label">
                    Email *
                </label>
                <div class="col col-10">
                    <input id="emailInput" placeholder="Email" class="form-control"
                        required minlength="2" formControlName="email"
                        [class.border-danger]="email.invalid && email.touched">
                    <div *ngIf="email.invalid && email.touched" class="alert alert-danger">
                        <div *ngIf="email.errors !== null && email.errors.required">
                            <i class="fas fa-exclamation-circle"></i>
                            <span class="ml-1">
                                Eine Emailadresse muss eingegeben werden.
                            </span>
                        </div>
                        <div *ngIf="email.errors !== null && email.errors.email">
                            <i class="fas fa-exclamation-circle"></i>
                            <span class="ml-1">
                                Die Emailadresse ist ung&uuml;ltig.
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group row">
                <label class="col col-2 form-control-label">Kategorie *</label>
                <div class="col col-10">
                    <select class="form-control" formControlName="kategorie">
                        <option value="">Kategorie ausw&auml;hlen</option>
                            <option value="5">5</option>
                            <option value="4">4</option>
                            <option value="3">3</option>
                            <option value="2">2</option>
                            <option value="1">1</option>
                </select>
                </div>
            </div>

            <div class="form-group row">
                <label class="col col-2 form-control-label">Geschlecht *</label>
                <div class="col col-10">
                    <div class="radio">
                        <input type="radio" id="MAENNLICHInput"
                            formControlName="geschlecht" name="geschlecht" value="M">
                        <label class="radio-inline" for="MAENNLICHInput">
                            Männlich
                        </label>
                    </div>
                    <div class="radio">
                        <input type="radio" id="WEIBLICHInput"
                            formControlName="geschlecht" name="geschlecht" value="W">
                        <label class="radio-inline" for="WEIBLICHInput">
                             Weiblich
                        </label>
                    </div>
                </div>
            </div>

            <div class="form-group row">
                <label class="col col-2 form-control-label">Familienstand *</label>
                <div class="col col-10">
                    <select class="form-control" formControlName="familienstand"
                        required [class.border-danger]="familienstand.invalid && familienstand.touched">
                        <option value="">Familienstand ausw&auml;hlen</option>
                        <option value="L">Ledig</option>
                        <option value="VH">Verheiratet</option>
                        <option value="G">Geschieden</option>
                        <option value="VW">Verwittwet</option>
                    </select>
                    <div *ngIf="familienstand.invalid && familienstand.touched" class="alert alert-danger">
                        <div *ngIf="familienstand.errors !== null && familienstand.errors.required">
                            <i class="fas fa-exclamation-circle"></i>
                            <span class="ml-1">
                                Eine Angabe des Familienstandes ist erforderlich.
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group row">
                <label for="umsatzInput" class="col col-2 form-control-label">
                    Umsatz *
                </label>
                <div class="col col-5">
                    <div class="input-group">
                        <input id="umsatzInput" placeholder="Jahresumsatz, z.B. 123.45"
                            required class="form-control" type="number" formControlName="umsatz"
                            [class.border-danger]="umsatz.invalid && umsatz.touched">
                    </div>
                    <div *ngIf="umsatz.invalid && umsatz.touched" class="alert alert-danger">
                        <div *ngIf="umsatz.errors !== null && umsatz.errors.required">
                            <i class="fas fa-exclamation-circle"></i>
                            <span class="ml-1">
                                Ein Umsatz muss eingegeben werden, z.B. 123.45
                            </span>
                        </div>
                    </div>
                </div>
                <div class="col col-2">
                        <select class="form-control" formControlName="waehrung"
                            required [class.border-danger]="waehrung.invalid && waehrung.touched">
                            <option value="EUR">Euro</option>
                            <option value="USD">US Dollar</option>
                        </select>
                    </div>
            </div>


            <div class="form-group row">
                <label for="geburtsdatumInput" class="col col-2 form-control-label">
                    Geburtsdatum
                </label>
                <div class="col col-5">
                    <input id="geburtsdatumInput" placeholder = "01.01.1980" class="form-control" type="date" formControlName="geburtsdatum" />
                </div>
            </div>

            <div class="form-group row">
                <label for="interessenInput" class="col col-2 form-control-label">
                    Interessen
                </label>
                <div class="col col-10">
                    <div class="checkbox">
                        <input type="checkbox" id="LESENInput"
                                formControlName="L"/>
                        <label for="LESENInput">Lesen</label>
                    </div>
                    <div class="checkbox">
                        <input type="checkbox" id="REISENInput"
                                formControlName="R"/>
                        <label for="REISENInput">Reisen</label>
                    </div>
                    <div class="checkbox">
                            <input type="checkbox" id="SPORTInput"
                                    formControlName="S"/>
                            <label for="SPORTInput">Sport</label>
                        </div>
                </div>
            </div>



            <div class="form-group row">
                    <label class="col col-2 form-control-label">Newsletter abonnieren *</label>
                    <div class="col col-10">
                        <div class="radio">
                            <input type="radio" id="jaInput"
                                formControlName="newsletter" name="newsletter" value="true">
                            <label class="radio-inline" for="jaInput">
                                Ja
                            </label>
                        </div>
                        <div class="radio">
                            <input type="radio" id="neinInput"
                                formControlName="newsletter" name="newsletter" value="false">
                            <label class="radio-inline" for="neinInput">
                                 Nein
                            </label>
                        </div>
                    </div>
                </div>

                <div class="form-group row">
                    <label for="usernameInput" class="col col-2 form-control-label">
                        Benutzername *
                    </label>
                    <div class="col col-10">
                        <input id="usernameInput" placeholder="Username, z.B. User123" class="form-control"
                            autofocus formControlName="username"
                            [class.border-danger]="username.invalid && username.touched">
                        <div *ngIf="username.invalid && username.touched" class="alert alert-danger">
                            <div *ngIf="username.errors !== null && username.errors.required">
                                <i class="fas fa-exclamation-circle"></i>
                                <span class="ml-1">
                                    Bitte geben Sie ihren gewünschten Benutzername ein!
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group row">
                    <label for="passwordInput" class="col col-2 form-control-label">
                        Passwort *
                    </label>
                    <div class="col col-10">
                        <input id="passwordInput" placeholder="Passwort" class="form-control"
                            autofocus formControlName="password"
                            [class.border-danger]="password.invalid && password.touched">
                        <div *ngIf="password.invalid && password.touched" class="alert alert-danger">
                            <div *ngIf="password.errors !== null && password.errors.required">
                                <i class="fas fa-exclamation-circle"></i>
                                <span class="ml-1">
                                    Bitte geben Sie ihr gewünschtes Passwort ein!
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

            <div class="form-group row">
                <div class="col offset-2">
                    <!-- Template-Syntax:
                            (click)="onSave()" fuer Output = Event Binding
                                               d.h. Ereignis click an onSave() anbinden
                                               oder on-click="onSave"
                            [disabled]="..." fuer Input = Property Binding
                    -->
                    <button class="btn btn-primary" (click)="onSave()" [disabled]="!form.valid">
                        <i class="fas fa-check"></i>
                        <span class="ml-1">Jetzt anlegen</span>
                    </button>
                </div>
            </div>
        </form>

        <small>* sind Pflichtfelder</small>
    </div>
</div>